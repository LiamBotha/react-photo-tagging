(this["webpackJsonpreact-photo-tagging"]=this["webpackJsonpreact-photo-tagging"]||[]).push([[0],{21:function(e,t,c){},24:function(e,t,c){"use strict";c.r(t);var r=c(3),i=c.n(r),n=c(16),a=c.n(n),o=c(14),s=c(6),d=(c(21),c(13));c(25);d.a.initializeApp({apiKey:"AIzaSyBKsw_si96p_HSUTyeKxc_d62uUx5DzLQA",authDomain:"react-photo-tagging.firebaseapp.com",projectId:"react-photo-tagging",storageBucket:"react-photo-tagging.appspot.com",messagingSenderId:"549910552859",appId:"1:549910552859:web:eed76c59849b405ff673be",measurementId:"G-31W1QYCVZE"});var l=d.a,h=c(1),b={position:"fixed",left:0,right:0,top:0,bottom:0,margin:"auto",padding:"2rem 3rem",width:"400px",height:"min-content",minHeight:"400px",textAlign:"center",background:"white",borderRadius:"10px",boxShadow:"0 0 5px 3px rgba(0,0,0,0.7)"},j={listStyle:"none",padding:"0 1rem 0.3rem 1rem",width:"100%",textAlign:"center"},m=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Highscores: "}),Object(h.jsxs)("table",{id:"score-list",style:j,children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Time"}),e.scores.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.Name}),Object(h.jsx)("td",{children:e.TimeScore})]})}))]})]})};function u(e){var t=Object(r.useState)([]),c=Object(s.a)(t,2),i=c[0],n=c[1],a=Object(r.useState)(""),o=Object(s.a)(a,2),d=o[0],j=o[1],u=Object(r.useState)(!1),p=Object(s.a)(u,2),g=p[0],f=p[1];Object(r.useEffect)((function(){!function(e){l.firestore().collection("UsersA").orderBy("TimeScore").limit(10).onSnapshot((function(t){var c=[];t.forEach((function(e){"Placeholder"!==e.data().Name&&"N/A"!==e.data().TimeScore&&c.push(e.data())})),e(c)}))}(n)}),[]);var x=e.time,O=("0"+Math.floor(x/1e3)%60).slice(-2),v=("0"+Math.floor(x/6e4)%60).slice(-2),S=("0"+Math.floor(x/36e5)).slice(-2);return Object(h.jsxs)("div",{style:b,children:[Object(h.jsx)("h1",{children:"Game Completed!"}),Object(h.jsxs)("h2",{children:["You have found them all in ",S,":",v,":",O]}),!1===g?Object(h.jsxs)("div",{style:{padding:"5rem 0 0 0"},children:[Object(h.jsx)("input",{value:d,placeholder:"Your Name",onChange:function(e){return j(e.target.value)},type:"text"}),Object(h.jsx)("button",{onClick:function(){return t=e.userId,c="".concat(S,":").concat(v,":").concat(O),f(!0),void l.firestore().collection("UsersA").doc(t).update({Name:d,TimeScore:c});var t,c},children:"Submit"})]}):Object(h.jsx)(m,{scores:i})]})}function p(e){var t=e.point,c=document.querySelector(".game-img"),r=t.posX/100*c.width,i=t.posY/100*c.height,n=t.threshold/100*c.width,a={position:"absolute",width:"".concat(2*n,"px"),height:"".concat(2*n,"px"),left:"".concat(r-n,"px"),top:"".concat(i-n,"px"),borderRadius:"50%",border:"3px solid lightgreen"};return Object(h.jsx)("div",{style:a})}function g(e){var t=e.target;return Object(h.jsx)("img",{src:t.img,alt:t.name,style:{width:"50px",height:"50px",objectFit:"cover",objectPosition:"top",border:"1px solid white",margin:"0 1rem"}})}var f={position:"fixed",top:0,left:0,right:0,display:"flex",background:"#1f1f1fdf",color:"white",alignItems:"center"},x={fontSize:"1.2rem",margin:"1rem 0.6rem",display:"flex",alignItems:"center"};function O(e){var t=e.time,c=("0"+Math.floor(t/1e3)%60).slice(-2),r=Math.floor(t/6e4);return Object(h.jsxs)("div",{style:f,children:[e.targets.map((function(t,c){return Object(h.jsxs)("h2",{onClick:function(){return function(t,c){e.setCurTarget({name:t.name,id:c})}(t,c)},style:x,children:[t.name,Object(h.jsx)(g,{target:t})]})})),Object(h.jsxs)("h3",{style:{marginLeft:"auto",padding:" 0 2rem"},children:[r<10?"0"+r:r," : ",c]})]})}function v(e){return Object(h.jsx)("img",{className:"game-img",onClick:e.onClick,src:e.img,alt:"Game Window",style:e.style})}var S=c.p+"static/media/pierre-roussel-ps4-phone1.4a689505.jpg",w=c.p+"static/media/Joker.b88beec9.png",y=c.p+"static/media/Prompto.b98ae1d8.png",k=c.p+"static/media/Nier.06028429.png",A={position:"fixed",left:0,right:0,top:0,bottom:0,margin:"auto",padding:"2rem 3rem",width:"400px",height:"min-content",textAlign:"center",background:"white",borderRadius:"10px",boxShadow:"0 0 5px 3px rgba(0,0,0,0.7)"},C={padding:"0.5rem 1rem",background:"orangered",color:"white",fontSize:"1.2rem",borderRadius:"10px",border:"none",boxShadow:"0 0 3px 0px black"};function I(e){return Object(h.jsxs)("div",{style:A,children:[Object(h.jsx)("h2",{children:"Welcome to my Hidden Objects Game"}),Object(h.jsx)("p",{children:"Click on a name on the bar at top to select them as your target. Once selected, just click where you think they are. If you are correct, their name will dissapear and they will be encircled."}),Object(h.jsx)("h4",{children:"Click Start to begin"}),Object(h.jsx)("button",{onClick:function(){return e.StartGame()},style:C,children:"Start"})]})}var T={width:"100vw",objectFit:"cover"};var N=function(){var e=Object(r.useState)([{name:"Joker",img:w},{name:"2B",img:k},{name:"Prompto",img:y}]),t=Object(s.a)(e,2),c=t[0],i=t[1],n=Object(r.useState)([]),a=Object(s.a)(n,2),d=a[0],b=a[1],j=Object(r.useState)({id:0}),m=Object(s.a)(j,2),g=m[0],f=m[1],x=Object(r.useState)(!1),A=Object(s.a)(x,2),C=A[0],N=A[1],M=Object(r.useState)(!1),P=Object(s.a)(M,2),U=P[0],Y=P[1];console.log("refreshing completed",U);var G=Object(r.useState)(0),z=Object(s.a)(G,2),B=z[0],D=z[1],E=Object(r.useState)(null),H=Object(s.a)(E,2),J=H[0],R=H[1],X=Object(r.useState)(-1),K=Object(s.a)(X,2),W=K[0],_=K[1],F=Object(r.useState)(""),L=Object(s.a)(F,2),Q=L[0],q=L[1];return Object(r.useEffect)((function(){0===c.length&&l.firestore().collection("UsersA").doc(Q).get().then((function(e){var t=Date.now()-e.data().startTime;Y(!0),_(t),clearInterval(J)}))}),[c]),Object(h.jsxs)("div",{className:"App",children:[!C&&Object(h.jsx)(I,{StartGame:function(){N(!0),D(0);var e=Date.now(),t=setInterval((function(){return D(Date.now()-e)}),10);R(t);var c=l.firestore().collection("UsersA").doc().id;l.firestore().collection("UsersA").doc(c).set({Name:"Placeholder",TimeScore:"N/A",startTime:e}),q(c)}}),Object(h.jsx)(O,{setCurTarget:f,targets:c,time:B}),Object(h.jsx)(v,{onClick:function(e){var t=e.clientX/e.target.width*100,r=e.pageY/e.target.height*100;if(console.log("Mouse: ".concat(t,", ").concat(r)),c.length>0){var n=c[g.id];l.firestore().collection("PhotoA").doc(n.name).onSnapshot((function(e){var a=e.data().PosX,s=e.data().PosY,d=e.data().Threshold,l=Math.abs(a-t)<d,h=Math.abs(s-r)<d;if(l&&h){b((function(e){return[].concat(Object(o.a)(e),[{name:n.name,posX:a,posY:s,threshold:d}])}));var j=Object(o.a)(c);j.splice(g.id,1),i(j),f({id:0})}}))}},style:T,img:S}),d.map((function(e){return Object(h.jsx)(p,{point:e})})),U&&Object(h.jsx)(u,{time:W,userId:Q})]})};a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6a0b1629.chunk.js.map